System.register(["./p-ac8a95e7.system.js"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.h;n=t.r}],execute:function(){var r=function(){function t(t,e){this.validator=t;this.inputs=e}t.prototype.validateForm=function(){var t=this;this.state=this.validator.validateMany(Object.keys(this.inputs).map((function(e){return t.inputs[e]})));return this.state};t.prototype.isFormValid=function(){if(typeof this.state==="undefined"){return false}return this.state.isValid()};t.prototype.getState=function(){return this.state};t.prototype.getInput=function(t){return this.inputs[t]};t.prototype.setInputValue=function(t,e){this.inputs[t].value=e};t.prototype.inputHasErrors=function(t){if(null===this.getInput(t).value){return false}return this.state.getErrorsFor(t).length>0};t.prototype.getClassesForInput=function(t){var e=["form-control"];if(null!==this.getInput(t).value){var n=this.state.getErrorsFor(t);e.push(n.length>0?"is-invalid":"is-valid")}return e.join(" ")};return t}();var i=function(){function t(t,e,n,r){this.identifier=t;this.name=e;this.value=n;this.constraints=r}return t}();var s=function(){function t(t){this.service=t}t.prototype.renderErrorsForInput=function(t){var n=this.service.getInput(t);if(!n||null===n.value){return null}return e("ul",null,this.service.getState().getErrorsFor(t).map((function(t){return e("li",null,t.message)})))};return t}();var a=function(){function t(){}t.getNameConstraints=function(){return[function(t){return t===""?"Name cannot be empty":null}]};t.getPasswordConstraints=function(){return[function(t){return""===t?"Password cannot be empty":null},function(t){return false===/[A-Z]+/.test(t)?"Password must contain at least one uppercase letter":null},function(t){return false===/[0-9]+/.test(t)?"Password must contain at least one number":null}]};t.getEmailConstraints=function(){return[function(t){return""===t?"Email cannot be empty":null},function(t){return false===/@+/.test(t)?"Email must contain an @ symbol":null}]};return t}();var o=function(){function t(t){this.errors=t}t.prototype.getErrors=function(){return this.errors};t.prototype.getErrorsFor=function(t){return this.errors.filter((function(e){return e.identifier===t}))};t.prototype.isValid=function(){return this.errors.length===0};return t}();var l=function(){function t(){}t.prototype.validate=function(t,e){var n=[];e.map((function(e){var r=e(t);if(r!==null){n.push({message:r,identifier:null})}}));return new o(n)};t.prototype.validateMany=function(t){var e=[];t.forEach((function(t){t.constraints.map((function(n){var r=n(t.value);if(r!==null){e.push({message:r,identifier:t.identifier})}}))}));return new o(e)};return t}();var u=t("login_form",function(){function t(t){n(this,t)}t.prototype.componentWillLoad=function(){var t={name:new i("name","Full name",null,a.getNameConstraints()),email:new i("email","Email",null,a.getEmailConstraints()),password:new i("password","Password",null,a.getPasswordConstraints())};this.service=new r(new l,t);this.templating=new s(this.service)};t.prototype.handleInputChange=function(t,e){var n=t.target;this.service.setInputValue(e,n.value);this.validateComponent()};t.prototype.handleSubmit=function(t){t.preventDefault();console.log(t)};t.prototype.validateComponent=function(){this.validationState=this.service.validateForm()};t.prototype.render=function(){var t=this;return e("form",{onSubmit:function(e){return t.handleSubmit(e)}},e("div",{class:"form-group"},e("label",{htmlFor:"inputEmail",class:this.service.inputHasErrors("email")?"text-danger":""},"Email"),e("input",{type:"email",class:this.service.getClassesForInput("email"),id:"inputEmail",placeholder:"Email address",value:this.service.getInput("email").value,onInput:function(e){return t.handleInputChange(e,"email")}}),this.templating.renderErrorsForInput("email")),e("div",{class:"form-group"},e("label",{htmlFor:"inputPassword",class:this.service.inputHasErrors("password")?"text-danger":""},"Password"),e("input",{type:"password",class:this.service.getClassesForInput("password"),id:"inputPassword",placeholder:"Password",value:this.service.getInput("password").value,onInput:function(e){return t.handleInputChange(e,"password")}}),this.templating.renderErrorsForInput("password")),e("div",{class:"form-group form-check"},e("input",{type:"checkbox",class:"form-check-input",id:"rememberMe"}),e("label",{class:"form-check-label",htmlFor:"rememberMe"},"Remember me")),e("button",{type:"submit",class:"btn btn-primary",disabled:!this.service.isFormValid()},"Login"))};return t}());var p=t("registration_form",function(){function t(t){n(this,t)}t.prototype.componentWillLoad=function(){var t={name:new i("name","Full name",null,a.getNameConstraints()),email:new i("email","Email",null,a.getEmailConstraints()),password:new i("password","Password",null,a.getPasswordConstraints())};this.service=new r(new l,t);this.templating=new s(this.service)};t.prototype.handleInputChange=function(t,e){var n=t.target;this.service.setInputValue(e,n.value);this.validateComponent()};t.prototype.handleSubmit=function(t){t.preventDefault();console.log(t)};t.prototype.validateComponent=function(){this.validationState=this.service.validateForm()};t.prototype.render=function(){var t=this;return e("form",{onSubmit:function(e){return t.handleSubmit(e)}},e("div",{class:"form-group"},e("label",{htmlFor:"inputName",class:this.service.inputHasErrors("name")?"text-danger":""},"Full Name"),e("input",{type:"text",class:this.service.getClassesForInput("name"),id:"inputName",placeholder:"Full name",value:this.service.getInput("name").value,onInput:function(e){return t.handleInputChange(e,"name")}}),this.templating.renderErrorsForInput("name")),e("div",{class:"form-group"},e("label",{htmlFor:"inputEmail",class:this.service.inputHasErrors("email")?"text-danger":""},"Email"),e("input",{type:"email",class:this.service.getClassesForInput("email"),id:"inputEmail",placeholder:"Email address",value:this.service.getInput("email").value,onInput:function(e){return t.handleInputChange(e,"email")}}),this.templating.renderErrorsForInput("email")),e("div",{class:"form-group"},e("label",{htmlFor:"inputPassword",class:this.service.inputHasErrors("password")?"text-danger":""},"Password"),e("input",{type:"password",class:this.service.getClassesForInput("password"),id:"inputPassword",placeholder:"Password",value:this.service.getInput("password").value,onInput:function(e){return t.handleInputChange(e,"password")}}),this.templating.renderErrorsForInput("password")),e("button",{type:"submit",class:"btn btn-primary",disabled:!this.service.isFormValid()},"Register"))};return t}());var c=t("user_authenticator",function(){function t(t){n(this,t);this.defaultTab="login"}t.prototype.render=function(){return e("div",null,e("ul",{class:"nav nav-tabs",id:"userAuthenticator",role:"tablist"},e("li",{class:"nav-item"},e("a",{class:"nav-link "+(this.defaultTab==="login"?"active":""),id:"login-tab","data-toggle":"tab",href:"#login",role:"tab","aria-controls":"login","aria-selected":"true"},"Login")),e("li",{class:"nav-item"},e("a",{class:"nav-link "+(this.defaultTab==="registration"?"active":""),id:"register-tab","data-toggle":"tab",href:"#register",role:"tab","aria-controls":"register","aria-selected":"false"},"Register"))),e("div",{class:"tab-content p-4",id:"userAuthenticatorContent"},e("div",{class:"tab-pane "+(this.defaultTab==="login"?"show active":""),id:"login",role:"tabpanel","aria-labelledby":"login-tab"},e("login-form",null)),e("div",{class:"tab-pane "+(this.defaultTab==="registration"?"show active":""),id:"register",role:"tabpanel","aria-labelledby":"register-tab"},e("registration-form",null))))};return t}())}}}));